<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="css/jspyder.css" />
    <link type="text/css" rel="stylesheet" href="css/material-icons.css" />
    <script type="text/javascript" src="js/jspyder.js"></script>
</head>

<body><script type="text/javascript">
    js.alg.run(function() {
        var links = [
                { text: "Home", url: "home" }
            ],
            data = {
                links: links
            };
        
        js.lib
            .register("init", function() {
                js.lib("load");
            })
            .register("init-links", function() {
                js.dom("#main-page-links .main-page-link-item")
                    .on("click", function(event) {
                        js.dom(this).getAttrs({ "data-link": null }, function(attrs) {
                            js.dialog.alert({
                                title: "Alert",
                                message: attrs["data-link"]
                            });
                        });
                    });
            })
            // loads the page
            .register("load", function() {
                js.template.storeTemplateXml("./template/templates.xml", function () { 
                    js.template(data).compile("main-page", null, function(html) {
                        js.dom(document.body).append(html);
                        js.lib("init-links");
                    });
                });
            });
            
        js.lib("init");
    });
</script></body>

</html>