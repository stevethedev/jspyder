<?xml version="1.0" ?> 
<templates>
    <!-- ================================================================== -->
    <!-- MAIN SYSTEM LAYOUT =============================================== -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   bank_navigation[[page,text]]                                     -->
    <!--   bank_subnav_constant[[subnav,text,icon]]                         -->
    <!--   bank_subnav_volatile[[subnav,text,icon]]                         -->
    <!-- ================================================================== -->
    <template name="main-page">
        <div class="bank-banner">
            <h1 class="bank-header" id="bank-header">Budget Analysis Kit</h1>
            <ul id="bank-navigation" class="bank-navigation">
                @each("bank_navigation", "button", "@insert_template(`bank-navigation-link`)")
            </ul>
        </div>
        <div class="bank-viewport">
            <div class="bank-subnavigation-container">
                <ul id="bank-subnavigation-nodelete" class="bank-subnavigation-list list-1">
                    @each("bank_subnav_constant", "button", "@insert_template(`bank-subnavigation-link`)")
                </ul>
                @insert_template("bank-subnav-list")
            </div>
            <div id="bank-content-panel" class="bank-content">
                <!-- DATA GOES HERE -->
            </div>
        </div>
    </template>
    
    <!-- ================================================================== -->
    <!-- SUBNAV LINKS ===================================================== -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   bank_subnav_volatile[$button[page,text]]                         -->
    <!-- ================================================================== -->
    <template name="bank-subnav-list">
        <ul id="bank-subnavigation" class="bank-subnavigation-list list-2">
            @each("bank_subnav_volatile", "button", "@insert_template(`bank-subnavigation-link`)")
        </ul>
    </template>
    
    <!-- ================================================================== -->
    <!-- MAIN SYSTEM LINKS ================================================ -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   button[page,text]                                                -->
    <!-- ================================================================== -->
    <template name="bank-navigation-link">
        @var("page", `@map_item("button","page")`)
        @var("text", `@map_item("button","text")`)
        <li data-page="${page}" class="link link-${page}">${text}</li>
    </template>
    
    <!-- ================================================================== -->
    <!-- SUBNAV LINKS ===================================================== -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   button[subnav,icon,text]                                         -->
    <!-- ================================================================== -->
    <template name="bank-subnavigation-link">
        @var("subnav", `@map_item("button", "subnav")`)
        @var("text", `@map_item("button", "text")`)
        @var("icon", `@map_item("button","icon")`)
        @var("icon", `@iif(${icon}, ${icon}, "")`)
        <li data-subnav="${subnav}" class="subnav subnav-${subnav}">
            <i class="${icon}">@concat("")</i>
            <span>${text}</span>
        </li> 
    </template>
    
    <!-- ================================================================== -->
    <!-- OVERVIEW TABLE =================================================== -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   table_header                                                     -->
    <!--   table_class                                                      -->
    <!--   table_columns                                                    -->
    <!--   table_rows                                                       -->
    <!-- ================================================================== -->
    <template name="overview-table">
        <div class="bank-overview-container display inline-block">
            <table class="${table_class} table-banded table-hover bank-overview-table">
                <thead>
                    <tr>
                        <th colspan="@size(`table_columns`)">
                            <h3>${table_header}</h3>
                        </th>
                    </tr>
                    <tr>@each("table_columns", "header", "<td>@map_item(`header`, `text`)</td>")</tr>
                </thead>
                <tbody>
                    @each("table_rows", "table_row", "@insert_template(`overview-table-row`)")
                </tbody>
                <tfoot></tfoot>
            </table>
        </div>
    </template>

    <!-- ================================================================== -->
    <!-- OVERVIEW TABLE ROWS ============================================== -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   table_columns                                                    -->
    <!--   table_row[class]                                                 -->
    <!-- ================================================================== -->
    <template name="overview-table-row">
        @var("row_class", `@map_item("table_row", "class")`)
        <tr class="${row_class}">@each("table_columns", "table_column", "@insert_template(`overview-table-cell`)")</tr>
    </template>
    
    <!-- ================================================================== -->
    <!-- OVERVIEW TABLE CELLS ============================================= -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   table_column[tag,class,default]                                  -->
    <!--   table_row[$os_tag, $tooltip_tag, $column_tag]                    -->
    <!-- ================================================================== -->
    <!-- Creates:                                                           -->
    <!--   cell_class                                                       -->
    <!--   col_class                                                        -->
    <!--   data                                                             -->
    <!--   default                                                          -->
    <!--   column_tag                                                       -->
    <!--   os_tag                                                           -->
    <!--   tooltip                                                          -->
    <!--   tooltip_tag                                                      -->
    <!-- ================================================================== -->
    <template name="overview-table-cell">
        @var("column_tag", `@map_item("table_column", "tag")`)
        @var("os_tag", `@concat(${column_tag}, "_class")`)
        @var("row_class", `@map_item("table_row", ${os_tag})`)
        
        @var("tooltip_tag", `@concat(${column_tag}, "_tooltip")`)
        @var("tooltip", `@map_item("table_row", ${tooltip_tag})`)
        
        @var("col_class", `@map_item("table_column", "class")`)
        @var("default", `@map_item("table_column", "default")`)
        
        @var("data", `@map_item("table_row", ${column_tag})`)
        
        <td>
            <div class="position relative ${col_class} ${row_class}" data-tooltip="${tooltip}" title="${tooltip}">
                @iif(${data}, ${data}, ${default})
            </div>
        </td>
    </template>
    
    <!-- ================================================================== -->
    <!-- OVERVIEW ROW HEADER (2nd Row) ==================================== -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   table_columns                                                    -->
    <!-- ================================================================== -->
    <!-- Creates:                                                           -->
    <!--   content                                                          -->
    <!-- ================================================================== -->
    <template name="overview-table-row-header">
        <tr>
            @each("table_columns", "content", "<td>${content}</td>")
        </tr>
    </template>
    
    <!-- ================================================================== -->
    <!-- TOOLTIP TEMPLATE ================================================= -->
    <!-- ================================================================== -->
    <!-- Expects:                                                           -->
    <!--   tooltip                                                          -->
    <!-- ================================================================== -->
    <template name="js-tooltip">
        <span class="tooltip">${tooltip}</span>
    </template>
</templates>